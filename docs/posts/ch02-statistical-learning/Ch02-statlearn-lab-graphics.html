<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Oren Bochman">

<title>Chapter 2: Introduction to Python - Lab Graphics – An Introduction to Statistical Learning</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-d166b450ba5a8e9f7a0ab969bf6592c1.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-594d21605a7b9fb32547fedacd8fc358.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-d396125c57f3f0defba792e7b0e7a5dc.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../../site_libs/quarto-contrib/pseudocode-2.4.1/pseudocode.min.js"></script>
<link href="../../site_libs/quarto-contrib/pseudocode-2.4.1/pseudocode.min.css" rel="stylesheet">
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background-image: url(../../images/banner_black_3.jpg);
background-size: cover;
      }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">An Introduction to Statistical Learning</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-right">
      <h1 class="title">Chapter 2: Introduction to Python - Lab Graphics</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">lab</div>
                <div class="quarto-category">python</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta column-page-right">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Oren Bochman </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">Wednesday, June 12, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#graphics" id="toc-graphics" class="nav-link active" data-scroll-target="#graphics">Graphics</a></li>
  <li><a href="#sequences-and-slice-notation" id="toc-sequences-and-slice-notation" class="nav-link" data-scroll-target="#sequences-and-slice-notation">Sequences and Slice Notation</a></li>
  <li><a href="#indexing-data" id="toc-indexing-data" class="nav-link" data-scroll-target="#indexing-data">Indexing Data</a>
  <ul class="collapse">
  <li><a href="#indexing-rows-columns-and-submatrices" id="toc-indexing-rows-columns-and-submatrices" class="nav-link" data-scroll-target="#indexing-rows-columns-and-submatrices">Indexing Rows, Columns, and Submatrices</a></li>
  <li><a href="#boolean-indexing" id="toc-boolean-indexing" class="nav-link" data-scroll-target="#boolean-indexing">Boolean Indexing</a></li>
  </ul></li>
  <li><a href="#loading-data" id="toc-loading-data" class="nav-link" data-scroll-target="#loading-data">Loading Data</a>
  <ul class="collapse">
  <li><a href="#reading-in-a-data-set" id="toc-reading-in-a-data-set" class="nav-link" data-scroll-target="#reading-in-a-data-set">Reading in a Data Set</a></li>
  <li><a href="#basics-of-selecting-rows-and-columns" id="toc-basics-of-selecting-rows-and-columns" class="nav-link" data-scroll-target="#basics-of-selecting-rows-and-columns">Basics of Selecting Rows and Columns</a></li>
  <li><a href="#more-on-selecting-rows-and-columns" id="toc-more-on-selecting-rows-and-columns" class="nav-link" data-scroll-target="#more-on-selecting-rows-and-columns">More on Selecting Rows and Columns</a></li>
  </ul></li>
  <li><a href="#for-loops" id="toc-for-loops" class="nav-link" data-scroll-target="#for-loops">For Loops</a>
  <ul class="collapse">
  <li><a href="#string-formatting" id="toc-string-formatting" class="nav-link" data-scroll-target="#string-formatting">String Formatting</a></li>
  </ul></li>
  <li><a href="#additional-graphical-and-numerical-summaries" id="toc-additional-graphical-and-numerical-summaries" class="nav-link" data-scroll-target="#additional-graphical-and-numerical-summaries">Additional Graphical and Numerical Summaries</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-right" id="quarto-document-content">





<section id="graphics" class="level2">
<h2 class="anchored" data-anchor-id="graphics">Graphics</h2>
<p>In <code>Python</code>, common practice is to use the library <code>matplotlib</code> for graphics. However, since <code>Python</code> was not written with data analysis in mind, the notion of plotting is not intrinsic to the language. We will use the <code>subplots()</code> function from <code>matplotlib.pyplot</code> to create a figure and the axes onto which we plot our data. For many more examples of how to make plots in <code>Python</code>, readers are encouraged to visit <a href="https://matplotlib.org/stable/gallery/index.html">matplotlib.org/stable/gallery/</a>.</p>
<p>In <code>matplotlib</code>, a plot consists of a <em>figure</em> and one or more <em>axes</em>. You can think of the figure as the blank canvas upon which one or more plots will be displayed: it is the entire plotting window. The <em>axes</em> contain important information about each plot, such as its <span class="math inline">x</span>- and <span class="math inline">y</span>-axis labels, title, and more. (Note that in <code>matplotlib</code>, the word <em>axes</em> is not the plural of <em>axis</em>: a plot’s <em>axes</em> contains much more information than just the <span class="math inline">x</span>-axis and the <span class="math inline">y</span>-axis.)</p>
<p>We begin by importing the <code>subplots()</code> function from <code>matplotlib</code>. We use this function throughout when creating figures. The function returns a tuple of length two: a figure object as well as the relevant axes object. We will typically pass <code>figsize</code> as a keyword argument. Having created our axes, we attempt our first plot using its <code>plot()</code> method. To learn more about it, type <code>ax.plot?</code>.</p>
<div id="8c7b47e7" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib.pyplot <span class="im">import</span> subplots</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>rng <span class="op">=</span> np.random.default_rng(<span class="dv">1</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> rng.standard_normal(<span class="dv">100</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> rng.standard_normal(<span class="dv">100</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>ax.plot(x, y)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-2-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-2-output-1.png" width="643" height="633" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>We pause here to note that we have <em>unpacked</em> the tuple of length two returned by <code>subplots()</code> into the two distinct variables <code>fig</code> and <code>ax</code>. Unpacking is typically preferred to the following equivalent but slightly more verbose code:</p>
<div id="70cb0892" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>output <span class="op">=</span> subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> output[<span class="dv">0</span>]</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> output[<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-3-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-3-output-1.png" width="655" height="638" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>We see that our earlier cell produced a line plot, which is the default. To create a scatterplot, we provide an additional argument to <code>ax.plot()</code>, indicating that circles should be displayed.</p>
<div id="beaaedae" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>ax.plot(x, y, <span class="st">'o'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-4-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-4-output-1.png" width="643" height="633" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>Different values of this additional argument can be used to produce different colored lines as well as different linestyles.</p>
<p>As an alternative, we could use the <code>ax.scatter()</code> function to create a scatterplot.</p>
<div id="52680b20" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>ax.scatter(x, y, marker<span class="op">=</span><span class="st">'o'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-5-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-5-output-1.png" width="643" height="633" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>Notice that in the code blocks above, we have ended the last line with a semicolon. This prevents <code>ax.plot(x, y)</code> from printing text to the notebook. However, it does not prevent a plot from being produced. If we omit the trailing semi-colon, then we obtain the following output:</p>
<div id="3cbd692a" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>ax.scatter(x, y, marker<span class="op">=</span><span class="st">'o'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-6-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-6-output-1.png" width="643" height="633" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>In what follows, we will use trailing semicolons whenever the text that would be output is not germane to the discussion at hand.</p>
<p>To label our plot, we make use of the <code>set_xlabel()</code>, <code>set_ylabel()</code>, and <code>set_title()</code> methods of <code>ax</code>.</p>
<div id="5159792f" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>ax.scatter(x, y, marker<span class="op">=</span><span class="st">'o'</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">"this is the x-axis"</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">"this is the y-axis"</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">"Plot of X vs Y"</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-7-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-7-output-1.png" width="662" height="671" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>Having access to the figure object <code>fig</code> itself means that we can go in and change some aspects and then redisplay it. Here, we change the size from <code>(8, 8)</code> to <code>(12, 3)</code>.</p>
<div id="f597efd2" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>fig.set_size_inches(<span class="dv">12</span>,<span class="dv">3</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>fig</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="235">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-8-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-8-output-1.png" width="959" height="302" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>Occasionally we will want to create several plots within a figure. This can be achieved by passing additional arguments to <code>subplots()</code>. Below, we create a <span class="math inline">2 \times 3</span> grid of plots in a figure of size determined by the <code>figsize</code> argument. In such situations, there is often a relationship between the axes in the plots. For example, all plots may have a common <span class="math inline">x</span>-axis. The <code>subplots()</code> function can automatically handle this situation when passed the keyword argument <code>sharex=True</code>. The <code>axes</code> object below is an array pointing to different plots in the figure.</p>
<div id="c350c0d7" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> subplots(nrows<span class="op">=</span><span class="dv">2</span>,</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>                     ncols<span class="op">=</span><span class="dv">3</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                     figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-9-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-9-output-1.png" width="1176" height="416" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>We now produce a scatter plot with <code>'o'</code> in the second column of the first row and a scatter plot with <code>'+'</code> in the third column of the second row.</p>
<div id="5b8d4bc5" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>,<span class="dv">1</span>].plot(x, y, <span class="st">'o'</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>,<span class="dv">2</span>].scatter(x, y, marker<span class="op">=</span><span class="st">'+'</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>fig</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="237">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-10-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-10-output-1.png" width="1176" height="416" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>Type <code>subplots?</code> to learn more about <code>subplots()</code>.</p>
<p>To save the output of <code>fig</code>, we call its <code>savefig()</code> method. The argument <code>dpi</code> is the dots per inch, used to determine how large the figure will be in pixels.</p>
<div id="8b882f08" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>fig.savefig(<span class="st">"Figure.png"</span>, dpi<span class="op">=</span><span class="dv">400</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>fig.savefig(<span class="st">"Figure.pdf"</span>, dpi<span class="op">=</span><span class="dv">200</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can continue to modify <code>fig</code> using step-by-step updates; for example, we can modify the range of the <span class="math inline">x</span>-axis, re-save the figure, and even re-display it.</p>
<div id="6d2ff42e" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>,<span class="dv">1</span>].set_xlim([<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>])</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>fig.savefig(<span class="st">"Figure_updated.jpg"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>fig</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="239">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-12-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-12-output-1.png" width="1176" height="416" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>We now create some more sophisticated plots. The <code>ax.contour()</code> method produces a <em>contour plot</em> in order to represent three-dimensional data, similar to a topographical map. It takes three arguments:</p>
<ul>
<li>A vector of <code>x</code> values (the first dimension),</li>
<li>A vector of <code>y</code> values (the second dimension), and</li>
<li>A matrix whose elements correspond to the <code>z</code> value (the third dimension) for each pair of <code>(x,y)</code> coordinates.</li>
</ul>
<p>To create <code>x</code> and <code>y</code>, we’ll use the command <code>np.linspace(a, b, n)</code>, which returns a vector of <code>n</code> numbers starting at <code>a</code> and ending at <code>b</code>.</p>
<div id="a383f158" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(<span class="op">-</span>np.pi, np.pi, <span class="dv">50</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> x</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> np.multiply.outer(np.cos(y), <span class="dv">1</span> <span class="op">/</span> (<span class="dv">1</span> <span class="op">+</span> x<span class="op">**</span><span class="dv">2</span>))</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>ax.contour(x, y, f)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-13-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-13-output-1.png" width="643" height="633" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>We can increase the resolution by adding more levels to the image.</p>
<div id="acb1e222" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>ax.contour(x, y, f, levels<span class="op">=</span><span class="dv">45</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-14-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-14-output-1.png" width="643" height="633" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>To fine-tune the output of the <code>ax.contour()</code> function, take a look at the help file by typing <code>?plt.contour</code>.</p>
<p>The <code>ax.imshow()</code> method is similar to <code>ax.contour()</code>, except that it produces a color-coded plot whose colors depend on the <code>z</code> value. This is known as a <em>heatmap</em>, and is sometimes used to plot temperature in weather forecasts.</p>
<div id="3c2e732f" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>ax.imshow(f)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-15-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-15-output-1.png" width="637" height="633" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="sequences-and-slice-notation" class="level2">
<h2 class="anchored" data-anchor-id="sequences-and-slice-notation">Sequences and Slice Notation</h2>
<p>As seen above, the function <code>np.linspace()</code> can be used to create a sequence of numbers.</p>
<div id="3626d074" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>seq1 <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">11</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>seq1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="243">
<pre><code>array([ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10.])</code></pre>
</div>
</div>
<p>The function <code>np.arange()</code> returns a sequence of numbers spaced out by <code>step</code>. If <code>step</code> is not specified, then a default value of <span class="math inline">1</span> is used. Let’s create a sequence that starts at <span class="math inline">0</span> and ends at <span class="math inline">10</span>.</p>
<div id="7c791b6b" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>seq2 <span class="op">=</span> np.arange(<span class="dv">0</span>, <span class="dv">10</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>seq2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="244">
<pre><code>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</code></pre>
</div>
</div>
<p>Why isn’t <span class="math inline">10</span> output above? This has to do with <em>slice</em> notation in <code>Python</code>. Slice notation<br>
is used to index sequences such as lists, tuples and arrays. Suppose we want to retrieve the fourth through sixth (inclusive) entries of a string. We obtain a slice of the string using the indexing notation <code>[3:6]</code>.</p>
<div id="79255792" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">"hello world"</span>[<span class="dv">3</span>:<span class="dv">6</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="245">
<pre><code>'lo '</code></pre>
</div>
</div>
<p>In the code block above, the notation <code>3:6</code> is shorthand for <code>slice(3,6)</code> when used inside <code>[]</code>.</p>
<div id="ccbd7634" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">"hello world"</span>[<span class="bu">slice</span>(<span class="dv">3</span>,<span class="dv">6</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="246">
<pre><code>'lo '</code></pre>
</div>
</div>
<p>You might have expected <code>slice(3,6)</code> to output the fourth through seventh characters in the text string (recalling that <code>Python</code> begins its indexing at zero), but instead it output the fourth through sixth. This also explains why the earlier <code>np.arange(0, 10)</code> command output only the integers from <span class="math inline">0</span> to <span class="math inline">9</span>. See the documentation <code>slice?</code> for useful options in creating slices.</p>
</section>
<section id="indexing-data" class="level2">
<h2 class="anchored" data-anchor-id="indexing-data">Indexing Data</h2>
<p>To begin, we create a two-dimensional <code>numpy</code> array.</p>
<div id="d931f511" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> np.array(np.arange(<span class="dv">16</span>)).reshape((<span class="dv">4</span>, <span class="dv">4</span>))</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="247">
<pre><code>array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11],
       [12, 13, 14, 15]])</code></pre>
</div>
</div>
<p>Typing <code>A[1,2]</code> retrieves the element corresponding to the second row and third column. (As usual, <code>Python</code> indexes from <span class="math inline">0.</span>)</p>
<div id="68aa2348" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>A[<span class="dv">1</span>,<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="248">
<pre><code>6</code></pre>
</div>
</div>
<p>The first number after the open-bracket symbol <code>[</code> refers to the row, and the second number refers to the column.</p>
<section id="indexing-rows-columns-and-submatrices" class="level3">
<h3 class="anchored" data-anchor-id="indexing-rows-columns-and-submatrices">Indexing Rows, Columns, and Submatrices</h3>
<p>To select multiple rows at a time, we can pass in a list specifying our selection. For instance, <code>[1,3]</code> will retrieve the second and fourth rows:</p>
<div id="f91daf15" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>A[[<span class="dv">1</span>,<span class="dv">3</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="249">
<pre><code>array([[ 4,  5,  6,  7],
       [12, 13, 14, 15]])</code></pre>
</div>
</div>
<p>To select the first and third columns, we pass in <code>[0,2]</code> as the second argument in the square brackets. In this case we need to supply the first argument <code>:</code> which selects all rows.</p>
<div id="cbfaa2ee" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>A[:,[<span class="dv">0</span>,<span class="dv">2</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="250">
<pre><code>array([[ 0,  2],
       [ 4,  6],
       [ 8, 10],
       [12, 14]])</code></pre>
</div>
</div>
<p>Now, suppose that we want to select the submatrix made up of the second and fourth rows as well as the first and third columns. This is where indexing gets slightly tricky. It is natural to try to use lists to retrieve the rows and columns:</p>
<div id="9c7a3501" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>A[[<span class="dv">1</span>,<span class="dv">3</span>],[<span class="dv">0</span>,<span class="dv">2</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="251">
<pre><code>array([ 4, 14])</code></pre>
</div>
</div>
<p>Oops — what happened? We got a one-dimensional array of length two identical to</p>
<div id="638950ec" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>np.array([A[<span class="dv">1</span>,<span class="dv">0</span>],A[<span class="dv">3</span>,<span class="dv">2</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="252">
<pre><code>array([ 4, 14])</code></pre>
</div>
</div>
<p>Similarly, the following code fails to extract the submatrix comprised of the second and fourth rows and the first, third, and fourth columns:</p>
<div id="0438ca80" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>A[[<span class="dv">1</span>,<span class="dv">3</span>],[<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">3</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">IndexError</span>                                Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[253], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> <span class="ansi-yellow-bg">A</span><span class="ansi-yellow-bg">[</span><span class="ansi-yellow-bg">[</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">1</span><span class="ansi-yellow-bg">,</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">3</span><span class="ansi-yellow-bg">]</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg">[</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">0</span><span class="ansi-yellow-bg">,</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">2</span><span class="ansi-yellow-bg">,</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">3</span><span class="ansi-yellow-bg">]</span><span class="ansi-yellow-bg">]</span>

<span class="ansi-red-fg">IndexError</span>: shape mismatch: indexing arrays could not be broadcast together with shapes (2,) (3,) </pre>
</div>
</div>
</div>
<p>We can see what has gone wrong here. When supplied with two indexing lists, the <code>numpy</code> interpretation is that these provide pairs of <span class="math inline">i,j</span> indices for a series of entries. That is why the pair of lists must have the same length. However, that was not our intent, since we are looking for a submatrix.</p>
<p>One easy way to do this is as follows. We first create a submatrix by subsetting the rows of <code>A</code>, and then on the fly we make a further submatrix by subsetting its columns.</p>
<div id="726d287d" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>A[[<span class="dv">1</span>,<span class="dv">3</span>]][:,[<span class="dv">0</span>,<span class="dv">2</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="254">
<pre><code>array([[ 4,  6],
       [12, 14]])</code></pre>
</div>
</div>
<p>There are more efficient ways of achieving the same result.</p>
<p>The <em>convenience function</em> <code>np.ix_()</code> allows us to extract a submatrix using lists, by creating an intermediate <em>mesh</em> object.</p>
<div id="9c20480d" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>idx <span class="op">=</span> np.ix_([<span class="dv">1</span>,<span class="dv">3</span>],[<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">3</span>])</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>A[idx]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="255">
<pre><code>array([[ 4,  6,  7],
       [12, 14, 15]])</code></pre>
</div>
</div>
<p>Alternatively, we can subset matrices efficiently using slices.</p>
<p>The slice <code>1:4:2</code> captures the second and fourth items of a sequence, while the slice <code>0:3:2</code> captures the first and third items (the third element in a slice sequence is the step size).</p>
<div id="a469d7d5" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>A[<span class="dv">1</span>:<span class="dv">4</span>:<span class="dv">2</span>,<span class="dv">0</span>:<span class="dv">3</span>:<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="256">
<pre><code>array([[ 4,  6],
       [12, 14]])</code></pre>
</div>
</div>
<p>Why are we able to retrieve a submatrix directly using slices but not using lists? Its because they are different <code>Python</code> types, and are treated differently by <code>numpy</code>. Slices can be used to extract objects from arbitrary sequences, such as strings, lists, and tuples, while the use of lists for indexing is more limited.</p>
</section>
<section id="boolean-indexing" class="level3">
<h3 class="anchored" data-anchor-id="boolean-indexing">Boolean Indexing</h3>
<p>In <code>numpy</code>, a <em>Boolean</em> is a type that equals either <code>True</code> or <code>False</code> (also represented as <span class="math inline">1</span> and <span class="math inline">0</span>, respectively). The next line creates a vector of <span class="math inline">0</span>’s, represented as Booleans, of length equal to the first dimension of <code>A</code>.</p>
<div id="b3d6402a" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>keep_rows <span class="op">=</span> np.zeros(A.shape[<span class="dv">0</span>], <span class="bu">bool</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>keep_rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="257">
<pre><code>array([False, False, False, False])</code></pre>
</div>
</div>
<p>We now set two of the elements to <code>True</code>.</p>
<div id="ee9e554d" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>keep_rows[[<span class="dv">1</span>,<span class="dv">3</span>]] <span class="op">=</span> <span class="va">True</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>keep_rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="258">
<pre><code>array([False,  True, False,  True])</code></pre>
</div>
</div>
<p>Note that the elements of <code>keep_rows</code>, when viewed as integers, are the same as the values of <code>np.array([0,1,0,1])</code>. Below, we use <code>==</code> to verify their equality. When applied to two arrays, the <code>==</code> operation is applied elementwise.</p>
<div id="6b536079" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>np.<span class="bu">all</span>(keep_rows <span class="op">==</span> np.array([<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="259">
<pre><code>True</code></pre>
</div>
</div>
<p>(Here, the function <code>np.all()</code> has checked whether all entries of an array are <code>True</code>. A similar function, <code>np.any()</code>, can be used to check whether any entries of an array are <code>True</code>.)</p>
<p>However, even though <code>np.array([0,1,0,1])</code> and <code>keep_rows</code> are equal according to <code>==</code>, they index different sets of rows! The former retrieves the first, second, first, and second rows of <code>A</code>.</p>
<div id="e247de38" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>A[np.array([<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>])]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="260">
<pre><code>array([[0, 1, 2, 3],
       [4, 5, 6, 7],
       [0, 1, 2, 3],
       [4, 5, 6, 7]])</code></pre>
</div>
</div>
<p>By contrast, <code>keep_rows</code> retrieves only the second and fourth rows of <code>A</code> — i.e.&nbsp;the rows for which the Boolean equals <code>TRUE</code>.</p>
<div id="6561a2b7" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>A[keep_rows]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="261">
<pre><code>array([[ 4,  5,  6,  7],
       [12, 13, 14, 15]])</code></pre>
</div>
</div>
<p>This example shows that Booleans and integers are treated differently by <code>numpy</code>.</p>
<p>We again make use of the <code>np.ix_()</code> function to create a mesh containing the second and fourth rows, and the first, third, and fourth columns. This time, we apply the function to Booleans, rather than lists.</p>
<div id="80bbdd33" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>keep_cols <span class="op">=</span> np.zeros(A.shape[<span class="dv">1</span>], <span class="bu">bool</span>)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>keep_cols[[<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">3</span>]] <span class="op">=</span> <span class="va">True</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>idx_bool <span class="op">=</span> np.ix_(keep_rows, keep_cols)</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>A[idx_bool]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="262">
<pre><code>array([[ 4,  6,  7],
       [12, 14, 15]])</code></pre>
</div>
</div>
<p>We can also mix a list with an array of Booleans in the arguments to <code>np.ix_()</code>:</p>
<div id="23d877ba" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>idx_mixed <span class="op">=</span> np.ix_([<span class="dv">1</span>,<span class="dv">3</span>], keep_cols)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>A[idx_mixed]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="263">
<pre><code>array([[ 4,  6,  7],
       [12, 14, 15]])</code></pre>
</div>
</div>
<p>For more details on indexing in <code>numpy</code>, readers are referred to the <code>numpy</code> tutorial mentioned earlier.</p>
</section>
</section>
<section id="loading-data" class="level2">
<h2 class="anchored" data-anchor-id="loading-data">Loading Data</h2>
<p>Data sets often contain different types of data, and may have names associated with the rows or columns. For these reasons, they typically are best accommodated using a <em>data frame</em>. We can think of a data frame as a sequence of arrays of identical length; these are the columns. Entries in the different arrays can be combined to form a row. The <code>pandas</code> library can be used to create and work with data frame objects.</p>
<section id="reading-in-a-data-set" class="level3">
<h3 class="anchored" data-anchor-id="reading-in-a-data-set">Reading in a Data Set</h3>
<p>The first step of most analyses involves importing a data set into <code>Python</code>.<br>
Before attempting to load a data set, we must make sure that <code>Python</code> knows where to find the file containing it. If the file is in the same location as this notebook file, then we are all set. Otherwise, the command <code>os.chdir()</code> can be used to <em>change directory</em>. (You will need to call <code>import os</code> before calling <code>os.chdir()</code>.)</p>
<p>We will begin by reading in <code>Auto.csv</code>, available on the book website. This is a comma-separated file, and can be read in using <code>pd.read_csv()</code>:</p>
<div id="71ab0a57" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>Auto <span class="op">=</span> pd.read_csv(<span class="st">'Auto.csv'</span>)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>Auto</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="264">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mpg</th>
<th data-quarto-table-cell-role="th">cylinders</th>
<th data-quarto-table-cell-role="th">displacement</th>
<th data-quarto-table-cell-role="th">horsepower</th>
<th data-quarto-table-cell-role="th">weight</th>
<th data-quarto-table-cell-role="th">acceleration</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">origin</th>
<th data-quarto-table-cell-role="th">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>18.0</td>
<td>8</td>
<td>307.0</td>
<td>130</td>
<td>3504</td>
<td>12.0</td>
<td>70</td>
<td>1</td>
<td>chevrolet chevelle malibu</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>15.0</td>
<td>8</td>
<td>350.0</td>
<td>165</td>
<td>3693</td>
<td>11.5</td>
<td>70</td>
<td>1</td>
<td>buick skylark 320</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>18.0</td>
<td>8</td>
<td>318.0</td>
<td>150</td>
<td>3436</td>
<td>11.0</td>
<td>70</td>
<td>1</td>
<td>plymouth satellite</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>16.0</td>
<td>8</td>
<td>304.0</td>
<td>150</td>
<td>3433</td>
<td>12.0</td>
<td>70</td>
<td>1</td>
<td>amc rebel sst</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>17.0</td>
<td>8</td>
<td>302.0</td>
<td>140</td>
<td>3449</td>
<td>10.5</td>
<td>70</td>
<td>1</td>
<td>ford torino</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">392</td>
<td>27.0</td>
<td>4</td>
<td>140.0</td>
<td>86</td>
<td>2790</td>
<td>15.6</td>
<td>82</td>
<td>1</td>
<td>ford mustang gl</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">393</td>
<td>44.0</td>
<td>4</td>
<td>97.0</td>
<td>52</td>
<td>2130</td>
<td>24.6</td>
<td>82</td>
<td>2</td>
<td>vw pickup</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">394</td>
<td>32.0</td>
<td>4</td>
<td>135.0</td>
<td>84</td>
<td>2295</td>
<td>11.6</td>
<td>82</td>
<td>1</td>
<td>dodge rampage</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">395</td>
<td>28.0</td>
<td>4</td>
<td>120.0</td>
<td>79</td>
<td>2625</td>
<td>18.6</td>
<td>82</td>
<td>1</td>
<td>ford ranger</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">396</td>
<td>31.0</td>
<td>4</td>
<td>119.0</td>
<td>82</td>
<td>2720</td>
<td>19.4</td>
<td>82</td>
<td>1</td>
<td>chevy s-10</td>
</tr>
</tbody>
</table>

<p>397 rows × 9 columns</p>
</div>
</div>
</div>
<p>The book website also has a whitespace-delimited version of this data, called <code>Auto.data</code>. This can be read in as follows:</p>
<div id="e35d8a8a" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>Auto <span class="op">=</span> pd.read_csv(<span class="st">'Auto.data'</span>, delim_whitespace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/tmp/ipykernel_15826/2891344115.py:1: FutureWarning: The 'delim_whitespace' keyword in pd.read_csv is deprecated and will be removed in a future version. Use ``sep='\s+'`` instead
  Auto = pd.read_csv('Auto.data', delim_whitespace=True)</code></pre>
</div>
</div>
<p>Both <code>Auto.csv</code> and <code>Auto.data</code> are simply text files. Before loading data into <code>Python</code>, it is a good idea to view it using a text editor or other software, such as Microsoft Excel.</p>
<p>We now take a look at the column of <code>Auto</code> corresponding to the variable <code>horsepower</code>:</p>
<div id="ad3331ba" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>Auto[<span class="st">'horsepower'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="266">
<pre><code>0      130.0
1      165.0
2      150.0
3      150.0
4      140.0
       ...  
392    86.00
393    52.00
394    84.00
395    79.00
396    82.00
Name: horsepower, Length: 397, dtype: object</code></pre>
</div>
</div>
<p>We see that the <code>dtype</code> of this column is <code>object</code>. It turns out that all values of the <code>horsepower</code> column were interpreted as strings when reading in the data. We can find out why by looking at the unique values.</p>
<div id="8aa0fb9a" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>np.unique(Auto[<span class="st">'horsepower'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="267">
<pre><code>array(['100.0', '102.0', '103.0', '105.0', '107.0', '108.0', '110.0',
       '112.0', '113.0', '115.0', '116.0', '120.0', '122.0', '125.0',
       '129.0', '130.0', '132.0', '133.0', '135.0', '137.0', '138.0',
       '139.0', '140.0', '142.0', '145.0', '148.0', '149.0', '150.0',
       '152.0', '153.0', '155.0', '158.0', '160.0', '165.0', '167.0',
       '170.0', '175.0', '180.0', '190.0', '193.0', '198.0', '200.0',
       '208.0', '210.0', '215.0', '220.0', '225.0', '230.0', '46.00',
       '48.00', '49.00', '52.00', '53.00', '54.00', '58.00', '60.00',
       '61.00', '62.00', '63.00', '64.00', '65.00', '66.00', '67.00',
       '68.00', '69.00', '70.00', '71.00', '72.00', '74.00', '75.00',
       '76.00', '77.00', '78.00', '79.00', '80.00', '81.00', '82.00',
       '83.00', '84.00', '85.00', '86.00', '87.00', '88.00', '89.00',
       '90.00', '91.00', '92.00', '93.00', '94.00', '95.00', '96.00',
       '97.00', '98.00', '?'], dtype=object)</code></pre>
</div>
</div>
<p>We see the culprit is the value <code>?</code>, which is being used to encode missing values.</p>
<p>To fix the problem, we must provide <code>pd.read_csv()</code> with an argument called <code>na_values</code>. Now, each instance of <code>?</code> in the file is replaced with the value <code>np.nan</code>, which means <em>not a number</em>:</p>
<div id="cb02872b" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>Auto <span class="op">=</span> pd.read_csv(<span class="st">'Auto.data'</span>,</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>                   na_values<span class="op">=</span>[<span class="st">'?'</span>],</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>                   delim_whitespace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>Auto[<span class="st">'horsepower'</span>].<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/tmp/ipykernel_15826/931034241.py:1: FutureWarning: The 'delim_whitespace' keyword in pd.read_csv is deprecated and will be removed in a future version. Use ``sep='\s+'`` instead
  Auto = pd.read_csv('Auto.data',</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="268">
<pre><code>40952.0</code></pre>
</div>
</div>
<p>The <code>Auto.shape</code> attribute tells us that the data has 397 observations, or rows, and nine variables, or columns.</p>
<div id="9a499a85" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>Auto.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="269">
<pre><code>(397, 9)</code></pre>
</div>
</div>
<p>There are various ways to deal with missing data. In this case, since only five of the rows contain missing observations, we choose to use the <code>Auto.dropna()</code> method to simply remove these rows.</p>
<div id="f6fef1c2" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>Auto_new <span class="op">=</span> Auto.dropna()</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>Auto_new.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="270">
<pre><code>(392, 9)</code></pre>
</div>
</div>
</section>
<section id="basics-of-selecting-rows-and-columns" class="level3">
<h3 class="anchored" data-anchor-id="basics-of-selecting-rows-and-columns">Basics of Selecting Rows and Columns</h3>
<p>We can use <code>Auto.columns</code> to check the variable names.</p>
<div id="8aed0a08" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>Auto <span class="op">=</span> Auto_new <span class="co"># overwrite the previous value</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>Auto.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="271">
<pre><code>Index(['mpg', 'cylinders', 'displacement', 'horsepower', 'weight',
       'acceleration', 'year', 'origin', 'name'],
      dtype='object')</code></pre>
</div>
</div>
<p>Accessing the rows and columns of a data frame is similar, but not identical, to accessing the rows and columns of an array. Recall that the first argument to the <code>[]</code> method is always applied to the rows of the array.<br>
Similarly, passing in a slice to the <code>[]</code> method creates a data frame whose <em>rows</em> are determined by the slice:</p>
<div id="c2fb933c" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>Auto[:<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="272">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mpg</th>
<th data-quarto-table-cell-role="th">cylinders</th>
<th data-quarto-table-cell-role="th">displacement</th>
<th data-quarto-table-cell-role="th">horsepower</th>
<th data-quarto-table-cell-role="th">weight</th>
<th data-quarto-table-cell-role="th">acceleration</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">origin</th>
<th data-quarto-table-cell-role="th">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>18.0</td>
<td>8</td>
<td>307.0</td>
<td>130.0</td>
<td>3504.0</td>
<td>12.0</td>
<td>70</td>
<td>1</td>
<td>chevrolet chevelle malibu</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>15.0</td>
<td>8</td>
<td>350.0</td>
<td>165.0</td>
<td>3693.0</td>
<td>11.5</td>
<td>70</td>
<td>1</td>
<td>buick skylark 320</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>18.0</td>
<td>8</td>
<td>318.0</td>
<td>150.0</td>
<td>3436.0</td>
<td>11.0</td>
<td>70</td>
<td>1</td>
<td>plymouth satellite</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Similarly, an array of Booleans can be used to subset the rows:</p>
<div id="b783b891" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>idx_80 <span class="op">=</span> Auto[<span class="st">'year'</span>] <span class="op">&gt;</span> <span class="dv">80</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>Auto[idx_80]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="273">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mpg</th>
<th data-quarto-table-cell-role="th">cylinders</th>
<th data-quarto-table-cell-role="th">displacement</th>
<th data-quarto-table-cell-role="th">horsepower</th>
<th data-quarto-table-cell-role="th">weight</th>
<th data-quarto-table-cell-role="th">acceleration</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">origin</th>
<th data-quarto-table-cell-role="th">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">338</td>
<td>27.2</td>
<td>4</td>
<td>135.0</td>
<td>84.0</td>
<td>2490.0</td>
<td>15.7</td>
<td>81</td>
<td>1</td>
<td>plymouth reliant</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">339</td>
<td>26.6</td>
<td>4</td>
<td>151.0</td>
<td>84.0</td>
<td>2635.0</td>
<td>16.4</td>
<td>81</td>
<td>1</td>
<td>buick skylark</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">340</td>
<td>25.8</td>
<td>4</td>
<td>156.0</td>
<td>92.0</td>
<td>2620.0</td>
<td>14.4</td>
<td>81</td>
<td>1</td>
<td>dodge aries wagon (sw)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">341</td>
<td>23.5</td>
<td>6</td>
<td>173.0</td>
<td>110.0</td>
<td>2725.0</td>
<td>12.6</td>
<td>81</td>
<td>1</td>
<td>chevrolet citation</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">342</td>
<td>30.0</td>
<td>4</td>
<td>135.0</td>
<td>84.0</td>
<td>2385.0</td>
<td>12.9</td>
<td>81</td>
<td>1</td>
<td>plymouth reliant</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">343</td>
<td>39.1</td>
<td>4</td>
<td>79.0</td>
<td>58.0</td>
<td>1755.0</td>
<td>16.9</td>
<td>81</td>
<td>3</td>
<td>toyota starlet</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">344</td>
<td>39.0</td>
<td>4</td>
<td>86.0</td>
<td>64.0</td>
<td>1875.0</td>
<td>16.4</td>
<td>81</td>
<td>1</td>
<td>plymouth champ</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">345</td>
<td>35.1</td>
<td>4</td>
<td>81.0</td>
<td>60.0</td>
<td>1760.0</td>
<td>16.1</td>
<td>81</td>
<td>3</td>
<td>honda civic 1300</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">346</td>
<td>32.3</td>
<td>4</td>
<td>97.0</td>
<td>67.0</td>
<td>2065.0</td>
<td>17.8</td>
<td>81</td>
<td>3</td>
<td>subaru</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">347</td>
<td>37.0</td>
<td>4</td>
<td>85.0</td>
<td>65.0</td>
<td>1975.0</td>
<td>19.4</td>
<td>81</td>
<td>3</td>
<td>datsun 210 mpg</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">348</td>
<td>37.7</td>
<td>4</td>
<td>89.0</td>
<td>62.0</td>
<td>2050.0</td>
<td>17.3</td>
<td>81</td>
<td>3</td>
<td>toyota tercel</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">349</td>
<td>34.1</td>
<td>4</td>
<td>91.0</td>
<td>68.0</td>
<td>1985.0</td>
<td>16.0</td>
<td>81</td>
<td>3</td>
<td>mazda glc 4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">350</td>
<td>34.7</td>
<td>4</td>
<td>105.0</td>
<td>63.0</td>
<td>2215.0</td>
<td>14.9</td>
<td>81</td>
<td>1</td>
<td>plymouth horizon 4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">351</td>
<td>34.4</td>
<td>4</td>
<td>98.0</td>
<td>65.0</td>
<td>2045.0</td>
<td>16.2</td>
<td>81</td>
<td>1</td>
<td>ford escort 4w</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">352</td>
<td>29.9</td>
<td>4</td>
<td>98.0</td>
<td>65.0</td>
<td>2380.0</td>
<td>20.7</td>
<td>81</td>
<td>1</td>
<td>ford escort 2h</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">353</td>
<td>33.0</td>
<td>4</td>
<td>105.0</td>
<td>74.0</td>
<td>2190.0</td>
<td>14.2</td>
<td>81</td>
<td>2</td>
<td>volkswagen jetta</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">355</td>
<td>33.7</td>
<td>4</td>
<td>107.0</td>
<td>75.0</td>
<td>2210.0</td>
<td>14.4</td>
<td>81</td>
<td>3</td>
<td>honda prelude</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">356</td>
<td>32.4</td>
<td>4</td>
<td>108.0</td>
<td>75.0</td>
<td>2350.0</td>
<td>16.8</td>
<td>81</td>
<td>3</td>
<td>toyota corolla</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">357</td>
<td>32.9</td>
<td>4</td>
<td>119.0</td>
<td>100.0</td>
<td>2615.0</td>
<td>14.8</td>
<td>81</td>
<td>3</td>
<td>datsun 200sx</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">358</td>
<td>31.6</td>
<td>4</td>
<td>120.0</td>
<td>74.0</td>
<td>2635.0</td>
<td>18.3</td>
<td>81</td>
<td>3</td>
<td>mazda 626</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">359</td>
<td>28.1</td>
<td>4</td>
<td>141.0</td>
<td>80.0</td>
<td>3230.0</td>
<td>20.4</td>
<td>81</td>
<td>2</td>
<td>peugeot 505s turbo diesel</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">360</td>
<td>30.7</td>
<td>6</td>
<td>145.0</td>
<td>76.0</td>
<td>3160.0</td>
<td>19.6</td>
<td>81</td>
<td>2</td>
<td>volvo diesel</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">361</td>
<td>25.4</td>
<td>6</td>
<td>168.0</td>
<td>116.0</td>
<td>2900.0</td>
<td>12.6</td>
<td>81</td>
<td>3</td>
<td>toyota cressida</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">362</td>
<td>24.2</td>
<td>6</td>
<td>146.0</td>
<td>120.0</td>
<td>2930.0</td>
<td>13.8</td>
<td>81</td>
<td>3</td>
<td>datsun 810 maxima</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">363</td>
<td>22.4</td>
<td>6</td>
<td>231.0</td>
<td>110.0</td>
<td>3415.0</td>
<td>15.8</td>
<td>81</td>
<td>1</td>
<td>buick century</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">364</td>
<td>26.6</td>
<td>8</td>
<td>350.0</td>
<td>105.0</td>
<td>3725.0</td>
<td>19.0</td>
<td>81</td>
<td>1</td>
<td>oldsmobile cutlass ls</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">365</td>
<td>20.2</td>
<td>6</td>
<td>200.0</td>
<td>88.0</td>
<td>3060.0</td>
<td>17.1</td>
<td>81</td>
<td>1</td>
<td>ford granada gl</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">366</td>
<td>17.6</td>
<td>6</td>
<td>225.0</td>
<td>85.0</td>
<td>3465.0</td>
<td>16.6</td>
<td>81</td>
<td>1</td>
<td>chrysler lebaron salon</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">367</td>
<td>28.0</td>
<td>4</td>
<td>112.0</td>
<td>88.0</td>
<td>2605.0</td>
<td>19.6</td>
<td>82</td>
<td>1</td>
<td>chevrolet cavalier</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">368</td>
<td>27.0</td>
<td>4</td>
<td>112.0</td>
<td>88.0</td>
<td>2640.0</td>
<td>18.6</td>
<td>82</td>
<td>1</td>
<td>chevrolet cavalier wagon</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">369</td>
<td>34.0</td>
<td>4</td>
<td>112.0</td>
<td>88.0</td>
<td>2395.0</td>
<td>18.0</td>
<td>82</td>
<td>1</td>
<td>chevrolet cavalier 2-door</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">370</td>
<td>31.0</td>
<td>4</td>
<td>112.0</td>
<td>85.0</td>
<td>2575.0</td>
<td>16.2</td>
<td>82</td>
<td>1</td>
<td>pontiac j2000 se hatchback</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">371</td>
<td>29.0</td>
<td>4</td>
<td>135.0</td>
<td>84.0</td>
<td>2525.0</td>
<td>16.0</td>
<td>82</td>
<td>1</td>
<td>dodge aries se</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">372</td>
<td>27.0</td>
<td>4</td>
<td>151.0</td>
<td>90.0</td>
<td>2735.0</td>
<td>18.0</td>
<td>82</td>
<td>1</td>
<td>pontiac phoenix</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">373</td>
<td>24.0</td>
<td>4</td>
<td>140.0</td>
<td>92.0</td>
<td>2865.0</td>
<td>16.4</td>
<td>82</td>
<td>1</td>
<td>ford fairmont futura</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">374</td>
<td>36.0</td>
<td>4</td>
<td>105.0</td>
<td>74.0</td>
<td>1980.0</td>
<td>15.3</td>
<td>82</td>
<td>2</td>
<td>volkswagen rabbit l</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">375</td>
<td>37.0</td>
<td>4</td>
<td>91.0</td>
<td>68.0</td>
<td>2025.0</td>
<td>18.2</td>
<td>82</td>
<td>3</td>
<td>mazda glc custom l</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">376</td>
<td>31.0</td>
<td>4</td>
<td>91.0</td>
<td>68.0</td>
<td>1970.0</td>
<td>17.6</td>
<td>82</td>
<td>3</td>
<td>mazda glc custom</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">377</td>
<td>38.0</td>
<td>4</td>
<td>105.0</td>
<td>63.0</td>
<td>2125.0</td>
<td>14.7</td>
<td>82</td>
<td>1</td>
<td>plymouth horizon miser</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">378</td>
<td>36.0</td>
<td>4</td>
<td>98.0</td>
<td>70.0</td>
<td>2125.0</td>
<td>17.3</td>
<td>82</td>
<td>1</td>
<td>mercury lynx l</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">379</td>
<td>36.0</td>
<td>4</td>
<td>120.0</td>
<td>88.0</td>
<td>2160.0</td>
<td>14.5</td>
<td>82</td>
<td>3</td>
<td>nissan stanza xe</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">380</td>
<td>36.0</td>
<td>4</td>
<td>107.0</td>
<td>75.0</td>
<td>2205.0</td>
<td>14.5</td>
<td>82</td>
<td>3</td>
<td>honda accord</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">381</td>
<td>34.0</td>
<td>4</td>
<td>108.0</td>
<td>70.0</td>
<td>2245.0</td>
<td>16.9</td>
<td>82</td>
<td>3</td>
<td>toyota corolla</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">382</td>
<td>38.0</td>
<td>4</td>
<td>91.0</td>
<td>67.0</td>
<td>1965.0</td>
<td>15.0</td>
<td>82</td>
<td>3</td>
<td>honda civic</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">383</td>
<td>32.0</td>
<td>4</td>
<td>91.0</td>
<td>67.0</td>
<td>1965.0</td>
<td>15.7</td>
<td>82</td>
<td>3</td>
<td>honda civic (auto)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">384</td>
<td>38.0</td>
<td>4</td>
<td>91.0</td>
<td>67.0</td>
<td>1995.0</td>
<td>16.2</td>
<td>82</td>
<td>3</td>
<td>datsun 310 gx</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">385</td>
<td>25.0</td>
<td>6</td>
<td>181.0</td>
<td>110.0</td>
<td>2945.0</td>
<td>16.4</td>
<td>82</td>
<td>1</td>
<td>buick century limited</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">386</td>
<td>38.0</td>
<td>6</td>
<td>262.0</td>
<td>85.0</td>
<td>3015.0</td>
<td>17.0</td>
<td>82</td>
<td>1</td>
<td>oldsmobile cutlass ciera (diesel)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">387</td>
<td>26.0</td>
<td>4</td>
<td>156.0</td>
<td>92.0</td>
<td>2585.0</td>
<td>14.5</td>
<td>82</td>
<td>1</td>
<td>chrysler lebaron medallion</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">388</td>
<td>22.0</td>
<td>6</td>
<td>232.0</td>
<td>112.0</td>
<td>2835.0</td>
<td>14.7</td>
<td>82</td>
<td>1</td>
<td>ford granada l</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">389</td>
<td>32.0</td>
<td>4</td>
<td>144.0</td>
<td>96.0</td>
<td>2665.0</td>
<td>13.9</td>
<td>82</td>
<td>3</td>
<td>toyota celica gt</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">390</td>
<td>36.0</td>
<td>4</td>
<td>135.0</td>
<td>84.0</td>
<td>2370.0</td>
<td>13.0</td>
<td>82</td>
<td>1</td>
<td>dodge charger 2.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">391</td>
<td>27.0</td>
<td>4</td>
<td>151.0</td>
<td>90.0</td>
<td>2950.0</td>
<td>17.3</td>
<td>82</td>
<td>1</td>
<td>chevrolet camaro</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">392</td>
<td>27.0</td>
<td>4</td>
<td>140.0</td>
<td>86.0</td>
<td>2790.0</td>
<td>15.6</td>
<td>82</td>
<td>1</td>
<td>ford mustang gl</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">393</td>
<td>44.0</td>
<td>4</td>
<td>97.0</td>
<td>52.0</td>
<td>2130.0</td>
<td>24.6</td>
<td>82</td>
<td>2</td>
<td>vw pickup</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">394</td>
<td>32.0</td>
<td>4</td>
<td>135.0</td>
<td>84.0</td>
<td>2295.0</td>
<td>11.6</td>
<td>82</td>
<td>1</td>
<td>dodge rampage</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">395</td>
<td>28.0</td>
<td>4</td>
<td>120.0</td>
<td>79.0</td>
<td>2625.0</td>
<td>18.6</td>
<td>82</td>
<td>1</td>
<td>ford ranger</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">396</td>
<td>31.0</td>
<td>4</td>
<td>119.0</td>
<td>82.0</td>
<td>2720.0</td>
<td>19.4</td>
<td>82</td>
<td>1</td>
<td>chevy s-10</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>However, if we pass in a list of strings to the <code>[]</code> method, then we obtain a data frame containing the corresponding set of <em>columns</em>.</p>
<div id="88f6ad7c" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>Auto[[<span class="st">'mpg'</span>, <span class="st">'horsepower'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="274">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mpg</th>
<th data-quarto-table-cell-role="th">horsepower</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>18.0</td>
<td>130.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>15.0</td>
<td>165.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>18.0</td>
<td>150.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>16.0</td>
<td>150.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>17.0</td>
<td>140.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">392</td>
<td>27.0</td>
<td>86.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">393</td>
<td>44.0</td>
<td>52.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">394</td>
<td>32.0</td>
<td>84.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">395</td>
<td>28.0</td>
<td>79.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">396</td>
<td>31.0</td>
<td>82.0</td>
</tr>
</tbody>
</table>

<p>392 rows × 2 columns</p>
</div>
</div>
</div>
<p>Since we did not specify an <em>index</em> column when we loaded our data frame, the rows are labeled using integers 0 to 396.</p>
<div id="cd3d5e2f" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>Auto.index</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="275">
<pre><code>Index([  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,
       ...
       387, 388, 389, 390, 391, 392, 393, 394, 395, 396],
      dtype='int64', length=392)</code></pre>
</div>
</div>
<p>We can use the <code>set_index()</code> method to re-name the rows using the contents of <code>Auto['name']</code>.</p>
<div id="62be6b06" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>Auto_re <span class="op">=</span> Auto.set_index(<span class="st">'name'</span>)</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>Auto_re</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="276">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mpg</th>
<th data-quarto-table-cell-role="th">cylinders</th>
<th data-quarto-table-cell-role="th">displacement</th>
<th data-quarto-table-cell-role="th">horsepower</th>
<th data-quarto-table-cell-role="th">weight</th>
<th data-quarto-table-cell-role="th">acceleration</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">origin</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">chevrolet chevelle malibu</td>
<td>18.0</td>
<td>8</td>
<td>307.0</td>
<td>130.0</td>
<td>3504.0</td>
<td>12.0</td>
<td>70</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">buick skylark 320</td>
<td>15.0</td>
<td>8</td>
<td>350.0</td>
<td>165.0</td>
<td>3693.0</td>
<td>11.5</td>
<td>70</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">plymouth satellite</td>
<td>18.0</td>
<td>8</td>
<td>318.0</td>
<td>150.0</td>
<td>3436.0</td>
<td>11.0</td>
<td>70</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">amc rebel sst</td>
<td>16.0</td>
<td>8</td>
<td>304.0</td>
<td>150.0</td>
<td>3433.0</td>
<td>12.0</td>
<td>70</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford torino</td>
<td>17.0</td>
<td>8</td>
<td>302.0</td>
<td>140.0</td>
<td>3449.0</td>
<td>10.5</td>
<td>70</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford mustang gl</td>
<td>27.0</td>
<td>4</td>
<td>140.0</td>
<td>86.0</td>
<td>2790.0</td>
<td>15.6</td>
<td>82</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">vw pickup</td>
<td>44.0</td>
<td>4</td>
<td>97.0</td>
<td>52.0</td>
<td>2130.0</td>
<td>24.6</td>
<td>82</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">dodge rampage</td>
<td>32.0</td>
<td>4</td>
<td>135.0</td>
<td>84.0</td>
<td>2295.0</td>
<td>11.6</td>
<td>82</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford ranger</td>
<td>28.0</td>
<td>4</td>
<td>120.0</td>
<td>79.0</td>
<td>2625.0</td>
<td>18.6</td>
<td>82</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">chevy s-10</td>
<td>31.0</td>
<td>4</td>
<td>119.0</td>
<td>82.0</td>
<td>2720.0</td>
<td>19.4</td>
<td>82</td>
<td>1</td>
</tr>
</tbody>
</table>

<p>392 rows × 8 columns</p>
</div>
</div>
</div>
<div id="147beb48" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>Auto_re.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="277">
<pre><code>Index(['mpg', 'cylinders', 'displacement', 'horsepower', 'weight',
       'acceleration', 'year', 'origin'],
      dtype='object')</code></pre>
</div>
</div>
<p>We see that the column <code>'name'</code> is no longer there.</p>
<p>Now that the index has been set to <code>name</code>, we can access rows of the data frame by <code>name</code> using the <code>{loc[]</code>} method of <code>Auto</code>:</p>
<div id="485af175" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>rows <span class="op">=</span> [<span class="st">'amc rebel sst'</span>, <span class="st">'ford torino'</span>]</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>Auto_re.loc[rows]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="278">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mpg</th>
<th data-quarto-table-cell-role="th">cylinders</th>
<th data-quarto-table-cell-role="th">displacement</th>
<th data-quarto-table-cell-role="th">horsepower</th>
<th data-quarto-table-cell-role="th">weight</th>
<th data-quarto-table-cell-role="th">acceleration</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">origin</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">amc rebel sst</td>
<td>16.0</td>
<td>8</td>
<td>304.0</td>
<td>150.0</td>
<td>3433.0</td>
<td>12.0</td>
<td>70</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford torino</td>
<td>17.0</td>
<td>8</td>
<td>302.0</td>
<td>140.0</td>
<td>3449.0</td>
<td>10.5</td>
<td>70</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>As an alternative to using the index name, we could retrieve the 4th and 5th rows of <code>Auto</code> using the <code>{iloc[]</code>} method:</p>
<div id="5404a212" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>Auto_re.iloc[[<span class="dv">3</span>,<span class="dv">4</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="279">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mpg</th>
<th data-quarto-table-cell-role="th">cylinders</th>
<th data-quarto-table-cell-role="th">displacement</th>
<th data-quarto-table-cell-role="th">horsepower</th>
<th data-quarto-table-cell-role="th">weight</th>
<th data-quarto-table-cell-role="th">acceleration</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">origin</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">amc rebel sst</td>
<td>16.0</td>
<td>8</td>
<td>304.0</td>
<td>150.0</td>
<td>3433.0</td>
<td>12.0</td>
<td>70</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford torino</td>
<td>17.0</td>
<td>8</td>
<td>302.0</td>
<td>140.0</td>
<td>3449.0</td>
<td>10.5</td>
<td>70</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We can also use it to retrieve the 1st, 3rd and and 4th columns of <code>Auto_re</code>:</p>
<div id="ef86b5de" class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>Auto_re.iloc[:,[<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">3</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="280">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mpg</th>
<th data-quarto-table-cell-role="th">displacement</th>
<th data-quarto-table-cell-role="th">horsepower</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">chevrolet chevelle malibu</td>
<td>18.0</td>
<td>307.0</td>
<td>130.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">buick skylark 320</td>
<td>15.0</td>
<td>350.0</td>
<td>165.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">plymouth satellite</td>
<td>18.0</td>
<td>318.0</td>
<td>150.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">amc rebel sst</td>
<td>16.0</td>
<td>304.0</td>
<td>150.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford torino</td>
<td>17.0</td>
<td>302.0</td>
<td>140.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford mustang gl</td>
<td>27.0</td>
<td>140.0</td>
<td>86.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">vw pickup</td>
<td>44.0</td>
<td>97.0</td>
<td>52.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">dodge rampage</td>
<td>32.0</td>
<td>135.0</td>
<td>84.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford ranger</td>
<td>28.0</td>
<td>120.0</td>
<td>79.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">chevy s-10</td>
<td>31.0</td>
<td>119.0</td>
<td>82.0</td>
</tr>
</tbody>
</table>

<p>392 rows × 3 columns</p>
</div>
</div>
</div>
<p>We can extract the 4th and 5th rows, as well as the 1st, 3rd and 4th columns, using a single call to <code>iloc[]</code>:</p>
<div id="76087061" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>Auto_re.iloc[[<span class="dv">3</span>,<span class="dv">4</span>],[<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">3</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="281">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mpg</th>
<th data-quarto-table-cell-role="th">displacement</th>
<th data-quarto-table-cell-role="th">horsepower</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">amc rebel sst</td>
<td>16.0</td>
<td>304.0</td>
<td>150.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford torino</td>
<td>17.0</td>
<td>302.0</td>
<td>140.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Index entries need not be unique: there are several cars in the data frame named <code>ford galaxie 500</code>.</p>
<div id="41067854" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>Auto_re.loc[<span class="st">'ford galaxie 500'</span>, [<span class="st">'mpg'</span>, <span class="st">'origin'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="282">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mpg</th>
<th data-quarto-table-cell-role="th">origin</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford galaxie 500</td>
<td>15.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford galaxie 500</td>
<td>14.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford galaxie 500</td>
<td>14.0</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="more-on-selecting-rows-and-columns" class="level3">
<h3 class="anchored" data-anchor-id="more-on-selecting-rows-and-columns">More on Selecting Rows and Columns</h3>
<p>Suppose now that we want to create a data frame consisting of the <code>weight</code> and <code>origin</code> of the subset of cars with <code>year</code> greater than 80 — i.e.&nbsp;those built after 1980. To do this, we first create a Boolean array that indexes the rows. The <code>loc[]</code> method allows for Boolean entries as well as strings:</p>
<div id="2fba05e9" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>idx_80 <span class="op">=</span> Auto_re[<span class="st">'year'</span>] <span class="op">&gt;</span> <span class="dv">80</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>Auto_re.loc[idx_80, [<span class="st">'weight'</span>, <span class="st">'origin'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="283">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">weight</th>
<th data-quarto-table-cell-role="th">origin</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">plymouth reliant</td>
<td>2490.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">buick skylark</td>
<td>2635.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">dodge aries wagon (sw)</td>
<td>2620.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">chevrolet citation</td>
<td>2725.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">plymouth reliant</td>
<td>2385.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">toyota starlet</td>
<td>1755.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">plymouth champ</td>
<td>1875.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">honda civic 1300</td>
<td>1760.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">subaru</td>
<td>2065.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">datsun 210 mpg</td>
<td>1975.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">toyota tercel</td>
<td>2050.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mazda glc 4</td>
<td>1985.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">plymouth horizon 4</td>
<td>2215.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford escort 4w</td>
<td>2045.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford escort 2h</td>
<td>2380.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">volkswagen jetta</td>
<td>2190.0</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">honda prelude</td>
<td>2210.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">toyota corolla</td>
<td>2350.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">datsun 200sx</td>
<td>2615.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mazda 626</td>
<td>2635.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">peugeot 505s turbo diesel</td>
<td>3230.0</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">volvo diesel</td>
<td>3160.0</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">toyota cressida</td>
<td>2900.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">datsun 810 maxima</td>
<td>2930.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">buick century</td>
<td>3415.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">oldsmobile cutlass ls</td>
<td>3725.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford granada gl</td>
<td>3060.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">chrysler lebaron salon</td>
<td>3465.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">chevrolet cavalier</td>
<td>2605.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">chevrolet cavalier wagon</td>
<td>2640.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">chevrolet cavalier 2-door</td>
<td>2395.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">pontiac j2000 se hatchback</td>
<td>2575.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">dodge aries se</td>
<td>2525.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">pontiac phoenix</td>
<td>2735.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford fairmont futura</td>
<td>2865.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">volkswagen rabbit l</td>
<td>1980.0</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">mazda glc custom l</td>
<td>2025.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mazda glc custom</td>
<td>1970.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">plymouth horizon miser</td>
<td>2125.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mercury lynx l</td>
<td>2125.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">nissan stanza xe</td>
<td>2160.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">honda accord</td>
<td>2205.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">toyota corolla</td>
<td>2245.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">honda civic</td>
<td>1965.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">honda civic (auto)</td>
<td>1965.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">datsun 310 gx</td>
<td>1995.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">buick century limited</td>
<td>2945.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">oldsmobile cutlass ciera (diesel)</td>
<td>3015.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">chrysler lebaron medallion</td>
<td>2585.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford granada l</td>
<td>2835.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">toyota celica gt</td>
<td>2665.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">dodge charger 2.2</td>
<td>2370.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">chevrolet camaro</td>
<td>2950.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford mustang gl</td>
<td>2790.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">vw pickup</td>
<td>2130.0</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">dodge rampage</td>
<td>2295.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford ranger</td>
<td>2625.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">chevy s-10</td>
<td>2720.0</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>To do this more concisely, we can use an anonymous function called a <code>lambda</code>:</p>
<div id="1cba9ed8" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>Auto_re.loc[<span class="kw">lambda</span> df: df[<span class="st">'year'</span>] <span class="op">&gt;</span> <span class="dv">80</span>, [<span class="st">'weight'</span>, <span class="st">'origin'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="284">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">weight</th>
<th data-quarto-table-cell-role="th">origin</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">plymouth reliant</td>
<td>2490.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">buick skylark</td>
<td>2635.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">dodge aries wagon (sw)</td>
<td>2620.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">chevrolet citation</td>
<td>2725.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">plymouth reliant</td>
<td>2385.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">toyota starlet</td>
<td>1755.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">plymouth champ</td>
<td>1875.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">honda civic 1300</td>
<td>1760.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">subaru</td>
<td>2065.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">datsun 210 mpg</td>
<td>1975.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">toyota tercel</td>
<td>2050.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mazda glc 4</td>
<td>1985.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">plymouth horizon 4</td>
<td>2215.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford escort 4w</td>
<td>2045.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford escort 2h</td>
<td>2380.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">volkswagen jetta</td>
<td>2190.0</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">honda prelude</td>
<td>2210.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">toyota corolla</td>
<td>2350.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">datsun 200sx</td>
<td>2615.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mazda 626</td>
<td>2635.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">peugeot 505s turbo diesel</td>
<td>3230.0</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">volvo diesel</td>
<td>3160.0</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">toyota cressida</td>
<td>2900.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">datsun 810 maxima</td>
<td>2930.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">buick century</td>
<td>3415.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">oldsmobile cutlass ls</td>
<td>3725.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford granada gl</td>
<td>3060.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">chrysler lebaron salon</td>
<td>3465.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">chevrolet cavalier</td>
<td>2605.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">chevrolet cavalier wagon</td>
<td>2640.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">chevrolet cavalier 2-door</td>
<td>2395.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">pontiac j2000 se hatchback</td>
<td>2575.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">dodge aries se</td>
<td>2525.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">pontiac phoenix</td>
<td>2735.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford fairmont futura</td>
<td>2865.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">volkswagen rabbit l</td>
<td>1980.0</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">mazda glc custom l</td>
<td>2025.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mazda glc custom</td>
<td>1970.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">plymouth horizon miser</td>
<td>2125.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mercury lynx l</td>
<td>2125.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">nissan stanza xe</td>
<td>2160.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">honda accord</td>
<td>2205.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">toyota corolla</td>
<td>2245.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">honda civic</td>
<td>1965.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">honda civic (auto)</td>
<td>1965.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">datsun 310 gx</td>
<td>1995.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">buick century limited</td>
<td>2945.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">oldsmobile cutlass ciera (diesel)</td>
<td>3015.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">chrysler lebaron medallion</td>
<td>2585.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford granada l</td>
<td>2835.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">toyota celica gt</td>
<td>2665.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">dodge charger 2.2</td>
<td>2370.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">chevrolet camaro</td>
<td>2950.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford mustang gl</td>
<td>2790.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">vw pickup</td>
<td>2130.0</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">dodge rampage</td>
<td>2295.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford ranger</td>
<td>2625.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">chevy s-10</td>
<td>2720.0</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>The <code>lambda</code> call creates a function that takes a single argument, here <code>df</code>, and returns <code>df['year']&gt;80</code>. Since it is created inside the <code>loc[]</code> method for the dataframe <code>Auto_re</code>, that dataframe will be the argument supplied. As another example of using a <code>lambda</code>, suppose that we want all cars built after 1980 that achieve greater than 30 miles per gallon:</p>
<div id="2eb45d23" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>Auto_re.loc[<span class="kw">lambda</span> df: (df[<span class="st">'year'</span>] <span class="op">&gt;</span> <span class="dv">80</span>) <span class="op">&amp;</span> (df[<span class="st">'mpg'</span>] <span class="op">&gt;</span> <span class="dv">30</span>),</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>            [<span class="st">'weight'</span>, <span class="st">'origin'</span>]</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>           ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="285">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">weight</th>
<th data-quarto-table-cell-role="th">origin</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">toyota starlet</td>
<td>1755.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">plymouth champ</td>
<td>1875.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">honda civic 1300</td>
<td>1760.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">subaru</td>
<td>2065.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">datsun 210 mpg</td>
<td>1975.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">toyota tercel</td>
<td>2050.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">mazda glc 4</td>
<td>1985.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">plymouth horizon 4</td>
<td>2215.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford escort 4w</td>
<td>2045.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">volkswagen jetta</td>
<td>2190.0</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">honda prelude</td>
<td>2210.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">toyota corolla</td>
<td>2350.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">datsun 200sx</td>
<td>2615.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mazda 626</td>
<td>2635.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">volvo diesel</td>
<td>3160.0</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">chevrolet cavalier 2-door</td>
<td>2395.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">pontiac j2000 se hatchback</td>
<td>2575.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">volkswagen rabbit l</td>
<td>1980.0</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">mazda glc custom l</td>
<td>2025.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mazda glc custom</td>
<td>1970.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">plymouth horizon miser</td>
<td>2125.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mercury lynx l</td>
<td>2125.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">nissan stanza xe</td>
<td>2160.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">honda accord</td>
<td>2205.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">toyota corolla</td>
<td>2245.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">honda civic</td>
<td>1965.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">honda civic (auto)</td>
<td>1965.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">datsun 310 gx</td>
<td>1995.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">oldsmobile cutlass ciera (diesel)</td>
<td>3015.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">toyota celica gt</td>
<td>2665.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">dodge charger 2.2</td>
<td>2370.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">vw pickup</td>
<td>2130.0</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">dodge rampage</td>
<td>2295.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">chevy s-10</td>
<td>2720.0</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>The symbol <code>&amp;</code> computes an element-wise <em>and</em> operation. As another example, suppose that we want to retrieve all <code>Ford</code> and <code>Datsun</code> cars with <code>displacement</code> less than 300. We check whether each <code>name</code> entry contains either the string <code>ford</code> or <code>datsun</code> using the <code>str.contains()</code> method of the <code>index</code> attribute of of the dataframe:</p>
<div id="a3e82377" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>Auto_re.loc[<span class="kw">lambda</span> df: (df[<span class="st">'displacement'</span>] <span class="op">&lt;</span> <span class="dv">300</span>)</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>                       <span class="op">&amp;</span> (df.index.<span class="bu">str</span>.contains(<span class="st">'ford'</span>)</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>                       <span class="op">|</span> df.index.<span class="bu">str</span>.contains(<span class="st">'datsun'</span>)),</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>            [<span class="st">'weight'</span>, <span class="st">'origin'</span>]</span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>           ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="286">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">weight</th>
<th data-quarto-table-cell-role="th">origin</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford maverick</td>
<td>2587.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">datsun pl510</td>
<td>2130.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">datsun pl510</td>
<td>2130.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford torino 500</td>
<td>3302.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford mustang</td>
<td>3139.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">datsun 1200</td>
<td>1613.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford pinto runabout</td>
<td>2226.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford pinto (sw)</td>
<td>2395.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">datsun 510 (sw)</td>
<td>2288.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford maverick</td>
<td>3021.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">datsun 610</td>
<td>2379.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford pinto</td>
<td>2310.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">datsun b210</td>
<td>1950.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford pinto</td>
<td>2451.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">datsun 710</td>
<td>2003.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford maverick</td>
<td>3158.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford pinto</td>
<td>2639.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">datsun 710</td>
<td>2545.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford pinto</td>
<td>2984.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford maverick</td>
<td>3012.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford granada ghia</td>
<td>3574.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">datsun b-210</td>
<td>1990.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford pinto</td>
<td>2565.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">datsun f-10 hatchback</td>
<td>1945.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford granada</td>
<td>3525.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford mustang ii 2+2</td>
<td>2755.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">datsun 810</td>
<td>2815.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford fiesta</td>
<td>1800.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">datsun b210 gx</td>
<td>2070.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford fairmont (auto)</td>
<td>2965.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford fairmont (man)</td>
<td>2720.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">datsun 510</td>
<td>2300.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">datsun 200-sx</td>
<td>2405.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford fairmont 4</td>
<td>2890.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">datsun 210</td>
<td>2020.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">datsun 310</td>
<td>2019.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford fairmont</td>
<td>2870.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">datsun 510 hatchback</td>
<td>2434.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">datsun 210</td>
<td>2110.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">datsun 280-zx</td>
<td>2910.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">datsun 210 mpg</td>
<td>1975.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford escort 4w</td>
<td>2045.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford escort 2h</td>
<td>2380.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">datsun 200sx</td>
<td>2615.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">datsun 810 maxima</td>
<td>2930.0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford granada gl</td>
<td>3060.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford fairmont futura</td>
<td>2865.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">datsun 310 gx</td>
<td>1995.0</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford granada l</td>
<td>2835.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ford mustang gl</td>
<td>2790.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ford ranger</td>
<td>2625.0</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Here, the symbol <code>|</code> computes an element-wise <em>or</em> operation.</p>
<p>In summary, a powerful set of operations is available to index the rows and columns of data frames. For integer based queries, use the <code>iloc[]</code> method. For string and Boolean selections, use the <code>loc[]</code> method. For functional queries that filter rows, use the <code>loc[]</code> method with a function (typically a <code>lambda</code>) in the rows argument.</p>
</section>
</section>
<section id="for-loops" class="level2">
<h2 class="anchored" data-anchor-id="for-loops">For Loops</h2>
<p>A <code>for</code> loop is a standard tool in many languages that repeatedly evaluates some chunk of code while varying different values inside the code. For example, suppose we loop over elements of a list and compute their sum.</p>
<div id="8ada5468" class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> value <span class="kw">in</span> [<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">19</span>]:</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>    total <span class="op">+=</span> value</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Total is: </span><span class="sc">{0}</span><span class="st">'</span>.<span class="bu">format</span>(total))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Total is: 24</code></pre>
</div>
</div>
<p>The indented code beneath the line with the <code>for</code> statement is run for each value in the sequence specified in the <code>for</code> statement. The loop ends either when the cell ends or when code is indented at the same level as the original <code>for</code> statement. We see that the final line above which prints the total is executed only once after the for loop has terminated. Loops can be nested by additional indentation.</p>
<div id="33576375" class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> value <span class="kw">in</span> [<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">19</span>]:</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> weight <span class="kw">in</span> [<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>]:</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>        total <span class="op">+=</span> value <span class="op">*</span> weight</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Total is: </span><span class="sc">{0}</span><span class="st">'</span>.<span class="bu">format</span>(total))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Total is: 144</code></pre>
</div>
</div>
<p>Above, we summed over each combination of <code>value</code> and <code>weight</code>. We also took advantage of the <em>increment</em> notation in <code>Python</code>: the expression <code>a += b</code> is equivalent to <code>a = a + b</code>. Besides being a convenient notation, this can save time in computationally heavy tasks in which the intermediate value of <code>a+b</code> need not be explicitly created.</p>
<p>Perhaps a more common task would be to sum over <code>(value, weight)</code> pairs. For instance, to compute the average value of a random variable that takes on possible values 2, 3 or 19 with probability 0.2, 0.3, 0.5 respectively we would compute the weighted sum. Tasks such as this can often be accomplished using the <code>zip()</code> function that loops over a sequence of tuples.</p>
<div id="16b4c35d" class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> value, weight <span class="kw">in</span> <span class="bu">zip</span>([<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">19</span>],</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>                         [<span class="fl">0.2</span>,<span class="fl">0.3</span>,<span class="fl">0.5</span>]):</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>    total <span class="op">+=</span> weight <span class="op">*</span> value</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Weighted average is: </span><span class="sc">{0}</span><span class="st">'</span>.<span class="bu">format</span>(total))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Weighted average is: 10.8</code></pre>
</div>
</div>
<section id="string-formatting" class="level3">
<h3 class="anchored" data-anchor-id="string-formatting">String Formatting</h3>
<p>In the code chunk above we also printed a string displaying the total. However, the object <code>total</code> is an integer and not a string. Inserting the value of something into a string is a common task, made simple using some of the powerful string formatting tools in <code>Python</code>. Many data cleaning tasks involve manipulating and programmatically producing strings.</p>
<p>For example we may want to loop over the columns of a data frame and print the percent missing in each column. Let’s create a data frame <code>D</code> with columns in which 20% of the entries are missing i.e.&nbsp;set to <code>np.nan</code>. We’ll create the values in <code>D</code> from a normal distribution with mean 0 and variance 1 using <code>rng.standard_normal()</code> and then overwrite some random entries using <code>rng.choice()</code>.</p>
<div id="f44f353d" class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>rng <span class="op">=</span> np.random.default_rng(<span class="dv">1</span>)</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> rng.standard_normal((<span class="dv">127</span>, <span class="dv">5</span>))</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>M <span class="op">=</span> rng.choice([<span class="dv">0</span>, np.nan], p<span class="op">=</span>[<span class="fl">0.8</span>,<span class="fl">0.2</span>], size<span class="op">=</span>A.shape)</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>A <span class="op">+=</span> M</span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>D <span class="op">=</span> pd.DataFrame(A, columns<span class="op">=</span>[<span class="st">'food'</span>,</span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a>                             <span class="st">'bar'</span>,</span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a>                             <span class="st">'pickle'</span>,</span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a>                             <span class="st">'snack'</span>,</span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a>                             <span class="st">'popcorn'</span>])</span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a>D[:<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="290">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">food</th>
<th data-quarto-table-cell-role="th">bar</th>
<th data-quarto-table-cell-role="th">pickle</th>
<th data-quarto-table-cell-role="th">snack</th>
<th data-quarto-table-cell-role="th">popcorn</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0.345584</td>
<td>0.821618</td>
<td>0.330437</td>
<td>-1.303157</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>NaN</td>
<td>-0.536953</td>
<td>0.581118</td>
<td>0.364572</td>
<td>0.294132</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>NaN</td>
<td>0.546713</td>
<td>NaN</td>
<td>-0.162910</td>
<td>-0.482119</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="c2605b8f" class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> D.columns:</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>    template <span class="op">=</span> <span class="st">'Column "</span><span class="sc">{0}</span><span class="st">" has </span><span class="sc">{1:.2%}</span><span class="st"> missing values'</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(template.<span class="bu">format</span>(col,</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>          np.isnan(D[col]).mean()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Column "food" has 16.54% missing values
Column "bar" has 25.98% missing values
Column "pickle" has 29.13% missing values
Column "snack" has 21.26% missing values
Column "popcorn" has 22.83% missing values</code></pre>
</div>
</div>
<p>We see that the <code>template.format()</code> method expects two arguments <code>{0}</code> and <code>{1:.2%}</code>, and the latter includes some formatting information. In particular, it specifies that the second argument should be expressed as a percent with two decimal digits.</p>
<p>The reference <a href="https://docs.python.org/3/library/string.html">docs.python.org/3/library/string.html</a> includes many helpful and more complex examples.</p>
</section>
</section>
<section id="additional-graphical-and-numerical-summaries" class="level2">
<h2 class="anchored" data-anchor-id="additional-graphical-and-numerical-summaries">Additional Graphical and Numerical Summaries</h2>
<p>We can use the <code>ax.plot()</code> or <code>ax.scatter()</code> functions to display the quantitative variables. However, simply typing the variable names will produce an error message, because <code>Python</code> does not know to look in the <code>Auto</code> data set for those variables.</p>
<div id="e955925c" class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>ax.plot(horsepower, mpg, <span class="st">'o'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[292], line 2</span>
<span class="ansi-green-fg ansi-bold">      1</span> fig, ax <span style="color:rgb(98,98,98)">=</span> subplots(figsize<span style="color:rgb(98,98,98)">=</span>(<span style="color:rgb(98,98,98)">8</span>, <span style="color:rgb(98,98,98)">8</span>))
<span class="ansi-green-fg">----&gt; 2</span> ax<span style="color:rgb(98,98,98)">.</span>plot(<span class="ansi-yellow-bg">horsepower</span>, mpg, <span style="color:rgb(175,0,0)">'</span><span style="color:rgb(175,0,0)">o</span><span style="color:rgb(175,0,0)">'</span>);

<span class="ansi-red-fg">NameError</span>: name 'horsepower' is not defined</pre>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-65-output-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-65-output-2.png" width="655" height="638" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>We can address this by accessing the columns directly:</p>
<div id="ad8b69d0" class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>ax.plot(Auto[<span class="st">'horsepower'</span>], Auto[<span class="st">'mpg'</span>], <span class="st">'o'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-66-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-66-output-1.png" width="641" height="633" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>Alternatively, we can use the <code>plot()</code> method with the call <code>Auto.plot()</code>. Using this method, the variables can be accessed by name. The plot methods of a data frame return a familiar object: an axes. We can use it to update the plot as we did previously:</p>
<div id="057cd350" class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> Auto.plot.scatter(<span class="st">'horsepower'</span>, <span class="st">'mpg'</span>)</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Horsepower vs. MPG'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-67-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-16"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-67-output-1.png" width="585" height="449" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>If we want to save the figure that contains a given axes, we can find the relevant figure by accessing the <code>figure</code> attribute:</p>
<div id="319d3b04" class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> ax.figure</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>fig.savefig(<span class="st">'horsepower_mpg.png'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can further instruct the data frame to plot to a particular axes object. In this case the corresponding <code>plot()</code> method will return the modified axes we passed in as an argument. Note that when we request a one-dimensional grid of plots, the object <code>axes</code> is similarly one-dimensional. We place our scatter plot in the middle plot of a row of three plots within a figure.</p>
<div id="b829c0e9" class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> subplots(ncols<span class="op">=</span><span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">5</span>))</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>Auto.plot.scatter(<span class="st">'horsepower'</span>, <span class="st">'mpg'</span>, ax<span class="op">=</span>axes[<span class="dv">1</span>])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-69-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-69-output-1.png" width="1176" height="434" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>Note also that the columns of a data frame can be accessed as attributes: try typing in <code>Auto.horsepower</code>.</p>
<p>We now consider the <code>cylinders</code> variable. Typing in <code>Auto.cylinders.dtype</code> reveals that it is being treated as a quantitative variable. However, since there is only a small number of possible values for this variable, we may wish to treat it as qualitative. Below, we replace the <code>cylinders</code> column with a categorical version of <code>Auto.cylinders</code>. The function <code>pd.Series()</code> owes its name to the fact that <code>pandas</code> is often used in time series applications.</p>
<div id="9b9100b9" class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>Auto.cylinders <span class="op">=</span> pd.Series(Auto.cylinders, dtype<span class="op">=</span><span class="st">'category'</span>)</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>Auto.cylinders.dtype</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="297">
<pre><code>CategoricalDtype(categories=[3, 4, 5, 6, 8], ordered=False, categories_dtype=int64)</code></pre>
</div>
</div>
<p>Now that <code>cylinders</code> is qualitative, we can display it using the <code>boxplot()</code> method.</p>
<div id="79a0f78d" class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>Auto.boxplot(<span class="st">'mpg'</span>, by<span class="op">=</span><span class="st">'cylinders'</span>, ax<span class="op">=</span>ax)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-71-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-18"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-71-output-1.png" width="660" height="697" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>The <code>hist()</code> method can be used to plot a <em>histogram</em>.</p>
<div id="cbe97dde" class="cell" data-execution_count="72">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>Auto.hist(<span class="st">'mpg'</span>, ax<span class="op">=</span>ax)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-72-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-19"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-72-output-1.png" width="641" height="653" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>The color of the bars and the number of bins can be changed:</p>
<div id="bd98cee5" class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>Auto.hist(<span class="st">'mpg'</span>, color<span class="op">=</span><span class="st">'red'</span>, bins<span class="op">=</span><span class="dv">12</span>, ax<span class="op">=</span>ax)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-73-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-20"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-73-output-1.png" width="641" height="653" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>See <code>Auto.hist?</code> for more plotting options.</p>
<p>We can use the <code>pd.plotting.scatter_matrix()</code> function to create a <em>scatterplot matrix</em> to visualize all of the pairwise relationships between the columns in a data frame.</p>
<div id="14bee80d" class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>pd.plotting.scatter_matrix(Auto)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-74-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-74-output-1.png" width="598" height="444" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>We can also produce scatterplots for a subset of the variables.</p>
<div id="bcc3fc3f" class="cell" data-execution_count="75">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>pd.plotting.scatter_matrix(Auto[[<span class="st">'mpg'</span>,</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">'displacement'</span>,</span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">'weight'</span>]])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="Ch02-statlearn-lab-graphics_files/figure-html/cell-75-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-22"><img src="Ch02-statlearn-lab-graphics_files/figure-html/cell-75-output-1.png" width="595" height="444" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>The <code>describe()</code> method produces a numerical summary of each column in a data frame.</p>
<div id="0fe2ebe9" class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>Auto[[<span class="st">'mpg'</span>, <span class="st">'weight'</span>]].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="303">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mpg</th>
<th data-quarto-table-cell-role="th">weight</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>392.000000</td>
<td>392.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>23.445918</td>
<td>2977.584184</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>7.805007</td>
<td>849.402560</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>9.000000</td>
<td>1613.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>17.000000</td>
<td>2225.250000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>22.750000</td>
<td>2803.500000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>29.000000</td>
<td>3614.750000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>46.600000</td>
<td>5140.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We can also produce a summary of just a single column.</p>
<div id="55517da6" class="cell" data-execution_count="77">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>Auto[<span class="st">'cylinders'</span>].describe()</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>Auto[<span class="st">'mpg'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="304">
<pre><code>count     392
unique      5
top         4
freq      199
Name: cylinders, dtype: int64</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="304">
<pre><code>count    392.000000
mean      23.445918
std        7.805007
min        9.000000
25%       17.000000
50%       22.750000
75%       29.000000
max       46.600000
Name: mpg, dtype: float64</code></pre>
</div>
</div>
<p>To exit <code>Jupyter</code>, select <code>File / Shut Down</code>.</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div>CC SA BY-NC-ND</div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{bochman2024,
  author = {Bochman, Oren},
  title = {Chapter 2: {Introduction} to {Python} - {Lab} {Graphics}},
  date = {2024-06-12},
  url = {https://orenbochman.github.io/notes-islr/posts/ch02-statistical-learning/Ch02-statlearn-lab-graphics.html},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-bochman2024" class="csl-entry quarto-appendix-citeas" role="listitem">
Bochman, Oren. 2024. <span>“Chapter 2: Introduction to Python - Lab
Graphics.”</span> June 12, 2024. <a href="https://orenbochman.github.io/notes-islr/posts/ch02-statistical-learning/Ch02-statlearn-lab-graphics.html">https://orenbochman.github.io/notes-islr/posts/ch02-statistical-learning/Ch02-statlearn-lab-graphics.html</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/orenbochman\.github\.io\/notes-islr\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
          // default icon
          link.classList.add("external");
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="OrenBochman/blogComments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
    <script type="text/javascript">
    (function(d) {
      d.querySelectorAll(".pseudocode-container").forEach(function(el) {
        let pseudocodeOptions = {
          indentSize: el.dataset.indentSize || "1.2em",
          commentDelimiter: el.dataset.commentDelimiter || "//",
          lineNumber: el.dataset.lineNumber === "true" ? true : false,
          lineNumberPunc: el.dataset.lineNumberPunc || ":",
          noEnd: el.dataset.noEnd === "true" ? true : false,
          titlePrefix: el.dataset.captionPrefix || "Algorithm"
        };
        pseudocode.renderElement(el.querySelector(".pseudocode"), pseudocodeOptions);
      });
    })(document);
    (function(d) {
      d.querySelectorAll(".pseudocode-container").forEach(function(el) {
        let captionSpan = el.querySelector(".ps-root > .ps-algorithm > .ps-line > .ps-keyword")
        if (captionSpan !== null) {
          let captionPrefix = el.dataset.captionPrefix + " ";
          let captionNumber = "";
          if (el.dataset.pseudocodeNumber) {
            captionNumber = el.dataset.pseudocodeNumber + " ";
            if (el.dataset.chapterLevel) {
              captionNumber = el.dataset.chapterLevel + "." + captionNumber;
            }
          }
          captionSpan.innerHTML = captionPrefix + captionNumber;
        }
      });
    })(document);
    </script>
  
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>